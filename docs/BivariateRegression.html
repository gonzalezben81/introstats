<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Ben Gonzalez" />

<meta name="date" content="2023-10-06" />

<title>Bivariate Regression</title>

<script src="site_libs/header-attrs-2.28/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/viz-1.8.2/viz.js"></script>
<link href="site_libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="site_libs/grViz-binding-1.0.11/grViz.js"></script>
<script src="site_libs/core-js-2.5.3/shim.min.js"></script>
<script src="site_libs/react-18.2.0/react.min.js"></script>
<script src="site_libs/react-18.2.0/react-dom.min.js"></script>
<script src="site_libs/reactwidget-1.0.0/react-tools.js"></script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<link href="site_libs/reactable-0.4.4/reactable.css" rel="stylesheet" />
<script src="site_libs/reactable-binding-0.4.4/reactable.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #204a87; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #204a87; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="columns.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Intro Stats</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="foundationalconcepts.html">Foundational Concepts</a>
</li>
<li>
  <a href="bigthreeresults.html">Big 3 Results</a>
</li>
<li>
  <a href="Zscores.html">Z-Scores</a>
</li>
<li>
  <a href="chisquarecorrelation.html">Correlation &amp; Chi-Square</a>
</li>
<li>
  <a href="partialcorrelation.html">Partial Correlation</a>
</li>
<li>
  <a href="BivariateRegression.html">Bivariate Regression</a>
</li>
<li>
  <a href="MultipleLinearRegression.html">Multiple Linear Regression</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a></a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Bivariate Regression</h1>
<h4 class="author">Ben Gonzalez</h4>
<h4 class="date">2023-10-06</h4>

</div>


<!-- ```{js, echo = FALSE} -->
<!-- <script> -->
<!-- fucntion toggleTOC() { -->
<!-- var toc = document.getElementById('TOC'); -->
<!-- toc.style.display = (toc.style.display === 'none') ? 'block' : 'none'; -->
<!-- } -->
<!-- </script> -->
<!-- ``` -->
<!-- <button onclick="toggleTOC()">Toggle TOC</button> -->
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('right', 'top', 'auto', '1', 'Copy Code', 'Copy Successful!!!');
</script>
<div id="bivariate-regression-terminology" class="section level3">
<h3>Bivariate Regression Terminology</h3>
<ul>
<li><p><strong>Regression</strong> – is the process of estimating a
best-fitting line that summarizes the relationship between a predictor
variable (Independent Variable) and a criterion variable (Dependent
Variable).</p></li>
<li><p><strong>Regression Analysis</strong> – researchers fit a
regression line to a sample of data, estimate the parameters of the
regression equation (i.e., the constant and regression coefficient), and
use the resulting equation to predict scores on a criterion
variable.</p></li>
<li><p><strong>Bivariate</strong> – means that the analyses discussed
include just 2 variables, a predictor variable (the X variable), and a
criterion variable (the Y variable).</p></li>
<li><p><strong>Linear</strong> – refers to the fact, when the Y scores
are plotted against the X scores, it should be possible to fit a
best-fitting straight line through the center of the scores, as opposed
to a best-fitting curved line.</p></li>
</ul>
<div id="regression-generic-analysis-model" class="section level4">
<h4>Regression: Generic Analysis Model</h4>
<hr />
<center>
<div id="htmlwidget-84569bbd13652d40bc8a" style="width:672px;height:200px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-84569bbd13652d40bc8a">{"x":{"diagram":"\n  digraph graph2 {\n  \n  graph [layout = dot, rankdir = LR]\n  \n  # node definitions with substituted label text\n  node [shape = square]\n  Predictor [label = \"Predictor (IV):\n - Multi Value \n - Interval or Ratio Scale\"]\n  Criterion [label = \"Criterion (DV):\n - Multi Value \n - Interval or Ratio Scale\"]\n  \n  Predictor -> Criterion\n  }\n  \n  [1]: Interval\n  [2]: Ratio\n\n  ","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</center>
<hr />
<!-- <center> -->
<!-- ### Bivariate Regression -->
<!-- </center> -->
</div>
</div>
<div id="assumptions-of-bivariate-regression" class="section level3">
<h3>Assumptions of Bivariate Regression</h3>
<ul>
<li><p><strong>Linearity</strong> – should be able to fit a best-fitting
straight line through the scatterplot.</p></li>
<li><p><strong>Independence</strong> – each observation included in the
sample should be drawn independently from the population of interest.
Researchers should not have taken repeated measures on the same variable
from the same participant.</p></li>
<li><p><strong>Homogeneity of Variance (Homoscedasticity)</strong> – the
variance of the Y scores should remain fairly constant at all values of
X.</p></li>
<li><p><strong>Normality</strong> – residuals of prediction should be
normally distributed. Bivariate Normality – for any specific score on
one of the variables, scores on the other variable should follow a
normal distribution.</p></li>
</ul>
<center>
</div>
<div id="bivariate-regression-formula" class="section level3">
<h3>Bivariate Regression Formula</h3>
</center>
<p>Here we have the formula for the bivariate regression equation. The
regression equation takes the following form: <span
class="math display">\[\Large
Regression\;Equation:\;\;\;\hat{y} = a + \beta(X)
\]</span> <span class="math display">\[
\hat{y}\;\;–\;the\;predicted\;score\;on\;the\;criterion\;variable
\]</span> <span class="math display">\[
a\;–\;the\;constant\;or\;the\;intercept\;of\;the\;regression\;equation.
\]</span> <span class="math display">\[
\beta\;–\;the\;unstandardized\;regression\;coefficient.\\Represents\;the\;amount\;of\;change\;in\;Y\;\\that\;is
\;associated\;with\;a\;one-unit\;change\;in\;X\;\\when\;both\;variables\;are\;in\;raw\;score\;form.\\Also\;known\;as\;the\;regression\;weight\;or\;slope.
\]</span></p>
<!-- $$\Large -->
<!-- \hat{y} = a + \beta(X) -->
<!-- $$ -->
</div>
<div id="scatterplot-of-the-data-set" class="section level3">
<h3>Scatterplot of the data set</h3>
<p>Here we plot our data to get a good look at the shape of the data
set.</p>
<ul>
<li><strong>Scatterplot</strong> – a graph that illustrates the nature
of the relationship between two quantitative variables.</li>
<li><strong>X Axis</strong> – Predictor Variable - hp</li>
<li><strong>Y Axis</strong> – Criterion Variable - mpg</li>
</ul>
<p>We can utilize the following plot function to create a basic
scatterplot in R. <br></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">attach</span>(mtcars)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">with</span>(<span class="at">data =</span> mtcars,<span class="fu">plot</span>(<span class="at">x =</span> hp,<span class="at">y =</span> mpg,<span class="at">col=</span><span class="st">&quot;black&quot;</span>,<span class="at">pch=</span><span class="dv">19</span>,<span class="at">main=</span><span class="st">&quot;Mtcars&quot;</span>))</span></code></pre></div>
<p><br></p>
<pre><code>## The following object is masked from package:ggplot2:
## 
##     mpg</code></pre>
<p><img src="BivariateRegression_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>
<div id="calculate-the-residual" class="section level3">
<h3>Calculate the Residual</h3>
<p>We compute the residuals by taking the actual y value and subtract
the predicted y value. The residual for each observation is the
difference between the predicted values of y and the actual values of y.
Calculating the residual helps us to see if we have over predicted or
underpredicted for <span class="math inline">\(\hat{y}\)</span>.</p>
<p><span class="math display">\[\Large
Residual = actual\;y\;value - predicted\;y\;value
\]</span></p>
<p><span class="math display">\[\Large
r_{1} = y_{i} - \hat{y_{i}}
\]</span></p>
<pre><code>## [1] &quot;Predicted y Values&quot;</code></pre>
<pre><code>##           Mazda RX4       Mazda RX4 Wag          Datsun 710      Hornet 4 Drive 
##           22.593750           22.593750           23.753631           22.593750 
##   Hornet Sportabout             Valiant          Duster 360           Merc 240D 
##           18.158912           22.934891           13.382932           25.868707 
##            Merc 230            Merc 280           Merc 280C          Merc 450SE 
##           23.617174           21.706782           21.706782           17.817770 
##          Merc 450SL         Merc 450SLC  Cadillac Fleetwood Lincoln Continental 
##           17.817770           17.817770           16.112064           15.429781 
##   Chrysler Imperial            Fiat 128         Honda Civic      Toyota Corolla 
##           14.406357           25.595794           26.550990           25.664022 
##       Toyota Corona    Dodge Challenger         AMC Javelin          Camaro Z28 
##           23.480718           19.864619           19.864619           13.382932 
##    Pontiac Firebird           Fiat X1-9       Porsche 914-2        Lotus Europa 
##           18.158912           25.595794           23.890087           22.389065 
##      Ford Pantera L        Ferrari Dino       Maserati Bora          Volvo 142E 
##           12.086595           18.158912            7.242387           22.661978</code></pre>
<pre><code>## [1] &quot;Actual y Values&quot;</code></pre>
<pre><code>##  [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2 10.4
## [16] 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4 15.8 19.7
## [31] 15.0 21.4</code></pre>
<pre><code>## [1] &quot;Manually Calculated Residuals&quot;</code></pre>
<pre><code>##                     mtcars$mpg - mpg_prediction$fitted.values
## Mazda RX4                                         -1.59374995
## Mazda RX4 Wag                                     -1.59374995
## Datsun 710                                        -0.95363068
## Hornet 4 Drive                                    -1.19374995
## Hornet Sportabout                                  0.54108812
## Valiant                                           -4.83489134
## Duster 360                                         0.91706759
## Merc 240D                                         -1.46870730
## Merc 230                                          -0.81717412
## Merc 280                                          -2.50678234
## Merc 280C                                         -3.90678234
## Merc 450SE                                        -1.41777049
## Merc 450SL                                        -0.51777049
## Merc 450SLC                                       -2.61777049
## Cadillac Fleetwood                                -5.71206353
## Lincoln Continental                               -5.02978075
## Chrysler Imperial                                  0.29364342
## Fiat 128                                           6.80420581
## Honda Civic                                        3.84900992
## Toyota Corolla                                     8.23597754
## Toyota Corona                                     -1.98071757
## Dodge Challenger                                  -4.36461883
## AMC Javelin                                       -4.66461883
## Camaro Z28                                        -0.08293241
## Pontiac Firebird                                   1.04108812
## Fiat X1-9                                          1.70420581
## Porsche 914-2                                      2.10991276
## Lotus Europa                                       8.01093488
## Ford Pantera L                                     3.71340487
## Ferrari Dino                                       1.54108812
## Maserati Bora                                      7.75761261
## Volvo 142E                                        -1.26197823</code></pre>
<pre><code>## [1] &quot;Residual Values&quot;</code></pre>
<pre><code>##           Mazda RX4       Mazda RX4 Wag          Datsun 710      Hornet 4 Drive 
##         -1.59374995         -1.59374995         -0.95363068         -1.19374995 
##   Hornet Sportabout             Valiant          Duster 360           Merc 240D 
##          0.54108812         -4.83489134          0.91706759         -1.46870730 
##            Merc 230            Merc 280           Merc 280C          Merc 450SE 
##         -0.81717412         -2.50678234         -3.90678234         -1.41777049 
##          Merc 450SL         Merc 450SLC  Cadillac Fleetwood Lincoln Continental 
##         -0.51777049         -2.61777049         -5.71206353         -5.02978075 
##   Chrysler Imperial            Fiat 128         Honda Civic      Toyota Corolla 
##          0.29364342          6.80420581          3.84900992          8.23597754 
##       Toyota Corona    Dodge Challenger         AMC Javelin          Camaro Z28 
##         -1.98071757         -4.36461883         -4.66461883         -0.08293241 
##    Pontiac Firebird           Fiat X1-9       Porsche 914-2        Lotus Europa 
##          1.04108812          1.70420581          2.10991276          8.01093488 
##      Ford Pantera L        Ferrari Dino       Maserati Bora          Volvo 142E 
##          3.71340487          1.54108812          7.75761261         -1.26197823</code></pre>
<div class="reactable html-widget html-fill-item" id="htmlwidget-35b600eaed74b6e94922" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-35b600eaed74b6e94922">{"x":{"tag":{"name":"Reactable","attribs":{"data":{".rownames":["Mazda RX4","Mazda RX4 Wag","Datsun 710","Hornet 4 Drive","Hornet Sportabout","Valiant","Duster 360","Merc 240D","Merc 230","Merc 280","Merc 280C","Merc 450SE","Merc 450SL","Merc 450SLC","Cadillac Fleetwood","Lincoln Continental","Chrysler Imperial","Fiat 128","Honda Civic","Toyota Corolla","Toyota Corona","Dodge Challenger","AMC Javelin","Camaro Z28","Pontiac Firebird","Fiat X1-9","Porsche 914-2","Lotus Europa","Ford Pantera L","Ferrari Dino","Maserati Bora","Volvo 142E"],"actual_y_values":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"predicted_y_values":[22.5937499517505,22.5937499517505,23.7536306789671,22.5937499517505,18.1589118770989,22.9348913421083,13.3829324120894,25.8687072991855,23.6171741228239,21.7067823368202,21.7067823368202,17.817770486741,17.817770486741,17.817770486741,16.1120635349519,15.4297807542363,14.4063565831629,25.5957941868993,26.5509900799012,25.6640224649709,23.4807175666808,19.8646188288879,19.8646188288879,13.3829324120894,18.1589118770989,25.5957941868993,23.8900872351102,22.3890651175358,12.0865951287297,18.1589118770989,7.24238738564867,22.6619782298221],"residual_values":[-1.59374995175054,-1.59374995175049,-0.95363067896707,-1.19374995175049,0.541088122901147,-4.83489134210831,0.917067587910603,-1.46870729918555,-0.817174122823943,-2.50678233682016,-3.90678233682016,-1.41777048674103,-0.517770486741032,-2.61777048674103,-5.71206353495194,-5.0297807542363,0.293643416837149,6.80420581310071,3.84900992009882,8.23597753502914,-1.98071756668082,-4.36461882888794,-4.66461882888794,-0.0829324120893968,1.04108812290115,1.70420581310071,2.1099127648898,8.0109348824642,3.71340487127031,1.54108812290115,7.75761261435133,-1.26197822982206]},"columns":[{"id":".rownames","name":"Vehicle Make","type":"character","sortable":true,"filterable":false,"rowHeader":true},{"id":"actual_y_values","name":"Actual Y Values","type":"numeric"},{"id":"predicted_y_values","name":"Predicted Y Values","type":"numeric"},{"id":"residual_values","name":"Residual","type":"numeric"}],"filterable":true,"searchable":true,"dataKey":"f42ca2085c42492c31f5280571c362ab"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="calculate-the-mean-of-the-y-values" class="section level3">
<h3>Calculate the mean of the Y Values</h3>
<p>Here we find the mean of our criterion (y) value of mpg.</p>
<p><span class="math display">\[\Large
\bar{y} = \frac{\sum{y}}{n}
\]</span></p>
<p>We can utilize the <strong><em>mean</em></strong> function to the
calculate the mean of mpg (miles per gallon).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">mean</span>(mtcars<span class="sc">$</span>mpg)</span></code></pre></div>
<pre><code>## [1] 20.09062</code></pre>
</div>
<div id="coefficient-of-determination-or-r2" class="section level3">
<h3>Coefficient of Determination or <span
class="math inline">\({R^2}\)</span></h3>
<p><strong>Coefficient of Determination</strong> – indicates the percent
of <strong>variance in the criterion</strong> variable <strong>that is
accounted for by the predictor</strong> variable.</p>
<hr />
<p><span class="math display">\[
Coefficient\;of\;Determination:\;\;R^2 =\;1-\;
\frac{sum\;squared\;regression\;(SSR)}{sum\;squares\;total\;(SST)}
\]</span></p>
<p><span class="math display">\[
=1- \frac{\sum(y_{i}\;-\;\hat{y_{i}})^2}{\sum(y_{i}\;-\;\overline{y})^2}
\\
\\
y_{i} = actual\;y\;values
\\
\hat{y_i} = predicted\;y\;values
\\
\overline{y} = mean\;of\;y
\\
\sum\;or\;sigma = sum
\]</span></p>
<hr />
</div>
<div
id="calculate-the-numerator-of-the-formula---sum-squared-regression-ssr"
class="section level3">
<h3>Calculate the numerator of the formula - Sum Squared Regression
(SSR)</h3>
<p><span class="math display">\[
\sum(y_{i}\;-\;\hat{y_{i}})^2
\]</span></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>top_of_formula <span class="ot">&lt;-</span> <span class="fu">sum</span>(mpg_prediction<span class="sc">$</span>residuals<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="fu">print</span>(top_of_formula)</span></code></pre></div>
<pre><code>## [1] 447.6743</code></pre>
</div>
<div
id="calculate-the-denominator-of-the-formula---sum-squares-total-sst"
class="section level3">
<h3>Calculate the denominator of the formula - Sum Squares Total
(SST)</h3>
<hr />
<p><span class="math display">\[
\sum(y_{i}\;-\;\overline{y})^2
\]</span></p>
<hr />
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>bottom_of_formula <span class="ot">&lt;-</span> <span class="fu">sum</span>((mtcars<span class="sc">$</span>mpg<span class="sc">-</span><span class="fu">mean</span>(mtcars<span class="sc">$</span>mpg))<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="fu">print</span>(bottom_of_formula)</span></code></pre></div>
<pre><code>## [1] 1126.047</code></pre>
<hr />
<p><span class="math display">\[
R^2 = 1- \frac{447.6743}{1126.047}
\]</span> <span class="math display">\[
R^2 = 1- 0.3975627
\]</span> <span class="math display">\[
R^2 = 0.6024373
\\
R^2 = 0.6024
\]</span></p>
<hr />
</div>
<div id="calculate-the-adjusted-r-squared-adj.r2orr2_adj"
class="section level3">
<h3>Calculate the Adjusted-R Squared <span
class="math inline">\(Adj.R^2\;or\;R^2_{adj}\)</span></h3>
<hr />
<p><span class="math display">\[
Adj.R^2\;or\;R^2_{adj} = 1 - (1-R^2)\;\cdot\;(n-1)/(n-p-1)
\\
Adj.R^2\;or\;R^2_{adj} = 1 - (1-0.6024373)\;\cdot\;(32-1)/(32-1-1)
\\
R^2 = coefficient\;of\;determination
\\
n = number\;of\;observations
\\
p=number\;of\;predictors
\]</span></p>
<hr />
<hr />
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>adj.r.squared <span class="ot">=</span> <span class="dv">1</span> <span class="sc">-</span> (<span class="dv">1</span> <span class="sc">-</span> <span class="fl">0.6024373</span>) <span class="sc">*</span> ((<span class="dv">32</span> <span class="sc">-</span> <span class="dv">1</span>)<span class="sc">/</span>(<span class="dv">32-1-1</span>))</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="fu">print</span>(adj.r.squared)</span></code></pre></div>
<pre><code>## [1] 0.5891852</code></pre>
</div>
<div id="utilize-the-lm-function-in-r-to-automate-our-work"
class="section level3">
<h3>Utilize the lm function in R to automate our work</h3>
<p>Here we can utilize the <strong><em>lm</em></strong> function in R to
perform our bivariate regression (simple linear regression). This will
allow us to save the model to a variable and then utilize the
<strong>$</strong> (dollar sign) operator in R. The <strong>$</strong>
(dollar sign) operator allows us to pull out things we need such as the
residuals and fitted values that are returned from the summary
function.</p>
<div id="print-the-residuals-of-the-model" class="section level4">
<h4>Print the residuals of the model</h4>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>mpg_hp_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> hp, mtcars)</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>mpg_hp_model<span class="sc">$</span>residuals</span></code></pre></div>
<pre><code>##           Mazda RX4       Mazda RX4 Wag          Datsun 710      Hornet 4 Drive 
##         -1.59374995         -1.59374995         -0.95363068         -1.19374995 
##   Hornet Sportabout             Valiant          Duster 360           Merc 240D 
##          0.54108812         -4.83489134          0.91706759         -1.46870730 
##            Merc 230            Merc 280           Merc 280C          Merc 450SE 
##         -0.81717412         -2.50678234         -3.90678234         -1.41777049 
##          Merc 450SL         Merc 450SLC  Cadillac Fleetwood Lincoln Continental 
##         -0.51777049         -2.61777049         -5.71206353         -5.02978075 
##   Chrysler Imperial            Fiat 128         Honda Civic      Toyota Corolla 
##          0.29364342          6.80420581          3.84900992          8.23597754 
##       Toyota Corona    Dodge Challenger         AMC Javelin          Camaro Z28 
##         -1.98071757         -4.36461883         -4.66461883         -0.08293241 
##    Pontiac Firebird           Fiat X1-9       Porsche 914-2        Lotus Europa 
##          1.04108812          1.70420581          2.10991276          8.01093488 
##      Ford Pantera L        Ferrari Dino       Maserati Bora          Volvo 142E 
##          3.71340487          1.54108812          7.75761261         -1.26197823</code></pre>
</div>
<div id="print-the-coefficients-of-the-model" class="section level4">
<h4>Print the coefficients of the model</h4>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>mpg_hp_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> hp, mtcars)</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>mpg_hp_model<span class="sc">$</span>coefficients</span></code></pre></div>
<pre><code>## (Intercept)          hp 
## 30.09886054 -0.06822828</code></pre>
</div>
<div id="print-the-fitted-values-of-the-model" class="section level4">
<h4>Print the fitted values of the model</h4>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a>mpg_hp_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> hp, mtcars)</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a>mpg_hp_model<span class="sc">$</span>fitted.values</span></code></pre></div>
<pre><code>##           Mazda RX4       Mazda RX4 Wag          Datsun 710      Hornet 4 Drive 
##           22.593750           22.593750           23.753631           22.593750 
##   Hornet Sportabout             Valiant          Duster 360           Merc 240D 
##           18.158912           22.934891           13.382932           25.868707 
##            Merc 230            Merc 280           Merc 280C          Merc 450SE 
##           23.617174           21.706782           21.706782           17.817770 
##          Merc 450SL         Merc 450SLC  Cadillac Fleetwood Lincoln Continental 
##           17.817770           17.817770           16.112064           15.429781 
##   Chrysler Imperial            Fiat 128         Honda Civic      Toyota Corolla 
##           14.406357           25.595794           26.550990           25.664022 
##       Toyota Corona    Dodge Challenger         AMC Javelin          Camaro Z28 
##           23.480718           19.864619           19.864619           13.382932 
##    Pontiac Firebird           Fiat X1-9       Porsche 914-2        Lotus Europa 
##           18.158912           25.595794           23.890087           22.389065 
##      Ford Pantera L        Ferrari Dino       Maserati Bora          Volvo 142E 
##           12.086595           18.158912            7.242387           22.661978</code></pre>
</div>
<div id="putting-it-altogether" class="section level4">
<h4>Putting it altogether</h4>
<p>Here we can print out the summary of the model utilizing the
<strong><em>summary</em></strong> function in R;
<code>summary(mpg_hp_model)</code>. We can also plot the predicted y
values with the actual y values. Then we can draw a line between each of
the predicted values and the actual values.This helps us visualize the
amount of variation that is present between the predicted vs the actual
values of y.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a>mpg_hp_model <span class="ot">=</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> hp, mtcars)</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">summary</span>(mpg_hp_model))</span></code></pre></div>
</div>
<div id="plot-our-residuals-and-a-best-fitting-line"
class="section level4">
<h4>Plot our residuals and a best fitting line</h4>
<p>Here we can utilize the <code>ggplot2</code> package to plot our
model. We can also plot the residuals along with a best fitting
line.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(hp,mpg))<span class="sc">+</span></span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>)<span class="sc">+</span></span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>  <span class="fu">geom_linerange</span>(<span class="fu">aes</span>(<span class="at">ymax =</span> mpg, <span class="at">ymin =</span> mpg<span class="sc">-</span>resid),<span class="at">color=</span><span class="st">&quot;red&quot;</span>)<span class="sc">+</span><span class="fu">gonzo_theme</span>()</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mpg ~ hp, data = mtcars)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -5.7121 -2.1122 -0.8854  1.5819  8.2360 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 30.09886    1.63392  18.421  &lt; 2e-16 ***
## hp          -0.06823    0.01012  -6.742 1.79e-07 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 3.863 on 30 degrees of freedom
## Multiple R-squared:  0.6024, Adjusted R-squared:  0.5892 
## F-statistic: 45.46 on 1 and 30 DF,  p-value: 1.788e-07</code></pre>
<p><img src="BivariateRegression_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>Now we can take a predictor value (X) and plug it in. We then are
able to predict where our criterion value (Y) wil be.</p>
<p><span class="math display">\[
\hat{y}\;=\;30.09886\;+\;-0.06823(X)
\]</span></p>
<p><span class="math display">\[
\hat{y}\;=\;30.09886\;+\;-0.06823(335)
\]</span> <span class="math display">\[
\hat{y}\;=\;30.09886\;+\;-22.85705
\]</span> <span class="math display">\[
\hat{y} = 7.24
\]</span></p>
<hr />
</div>
</div>
<div
id="squaring-the-correlation-r-to-find-the-coefficient-of-determination-r2"
class="section level3">
<h3>Squaring the correlation <span class="math inline">\({r}\)</span> to
find the coefficient of determination <span
class="math inline">\({R^2}\)</span></h3>
<p>According to Hatcher (2013) we can simply square the correlation
provided we are looking at only one predictor variable and one dependent
variable. When we square the correlation coefficient this will give us
the coefficient of determination.</p>
</div>
<div id="correlation-coefficient-of-hp-and-mpg" class="section level3">
<h3>Correlation coefficient of hp and mpg</h3>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="fu">cor</span>(<span class="at">x =</span> mtcars<span class="sc">$</span>hp,mtcars<span class="sc">$</span>mpg)</span></code></pre></div>
<pre><code>## [1] -0.7761684</code></pre>
<p><span class="math inline">\({r} = -0.7761684\)</span></p>
</div>
<div id="squaring-the-correlation-coefficient" class="section level3">
<h3>Squaring the correlation coefficient</h3>
<p>Here we can square the correlation coefficient <span
class="math inline">\({r}\)</span> and it will give us the coefficient
of determination or <span class="math inline">\({R^2}\)</span></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="fu">cor</span>(<span class="at">x =</span> mtcars<span class="sc">$</span>hp,mtcars<span class="sc">$</span>mpg)<span class="sc">^</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 0.6024373</code></pre>
<p><span class="math inline">\({R^2} = 0.6024373\)</span></p>
<p>Here we can see we get the same value for the coefficient of
determination <span class="math inline">\({R^2}\)</span> by squaring the
correlation as if we had utilized the <strong><em>lm</em></strong>
function. However the <strong><em>lm</em></strong> function has
advantages as it provides us with our p-value, F-statistic, and the
intercept and the unstandardized regression coefficient.</p>
<center>
</div>
<div id="data-set-description" class="section level3">
<h3>Data Set Description</h3>
</center>
<p>Motor Trend Car Road Tests</p>
<p>Description:</p>
<p>The data was extracted from the 1974 Motor Trend US magazine, and
comprises fuel consumption and 10 aspects of automobile design and
performance for 32 automobiles (1973–74 models).</p>
<h3>
References
</h3>
<p>Hatcher, L. (2013). <strong><em>Advanced statistics in research:
Reading, understanding, and writing up data analysis results. Shadow
Finch Media.</em></strong></p>
<p>Henderson and Velleman (1981). dataset: Motor Trend Car Road Tests. R
package version 4.3.1</p>
<p>Henderson and Velleman (1981), Building multiple regression models
interactively. Biometrics, 37, 391–411.</p>
</div>

<!-- footer.html -->
<div class="footer" style="text-align: center; padding: 10px; border-top: 1px solid #ccc; color: #333;">
  <p style="display: flex; justify-content: space-around; align-items: center; padding: 10px 0;">
    <a href="https://github.com/" target="_blank" title="GitHub" style="color: inherit; font-size: 24px;">
      <i class="fab fa-github"></i>
    </a>
    <a href="https://x.com/your-twitter-handle" target="_blank" title="Twitter" style="color: inherit; font-size: 24px;">
      <i class="fab fa-twitter"></i>
    </a>
    <a href="mailto:ben.gonzalez@slu.edu" title="Email" style="color: inherit; font-size: 24px;">
      <i class="fas fa-envelope"></i>
    </a>
  </p>
</div>
<center>
<footer>
  <p>&copy; <span id="year"></span> Intro Stats. All rights reserved.</p>
</footer>
</center>

<!-- Link to Font Awesome CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
